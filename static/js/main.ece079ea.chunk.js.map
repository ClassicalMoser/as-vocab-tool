{"version":3,"sources":["logo.svg","SentenceRetriever.js","App.js","reportWebVitals.js","index.js"],"names":["TABLE","NAME","ID","FIELDS","wordIdiom","use","partOfSpeech","frequencyRank","vocabName","spanishExample","englishTranslation","vocabIncluded","spanglish","lesson","LESSON_ORDER","SentenceRetriever","useState","userToken","setUserToken","vocabTable","setVocabTable","examplesTable","setExamplesTable","lessonsTable","setLessonsTable","searchTerm","setSearchTerm","targetVocabList","setTargetVocabList","vocabIncludedSearchList","setVocabIncludedSearchList","setSelectedLesson","noSpanglish","setNoSpanglish","noOtherVocab","setNoOtherVocab","shuffledSentences","setShuffledSentences","exampleList","setExampleList","createLocalTable","tableName","jsonData","newArr","data","map","row","name","value","spanish","english","createBody2","getFilteredExamples2","newFilteredExampleList","filter","example","length","vocab","element","includes","exampleObject","toLowerCase","list","shuffledList","i","newIndex","Math","floor","random","oldValue","shuffleExampleList2","addToTargetVocabList","e","term","preventDefault","id","Date","now","fetchTableFromQuickbase","fetch","method","headers","body","JSON","stringify","then","res","ok","arrayBuffer","buffer","text","TextDecoder","decode","json","parse","resBody","Promise","reject","status","catch","err","console","log","createLessonTitle","lessonName","find","join","useEffect","ut","URLSearchParams","window","location","search","get","hidden","onSubmit","target","type","className","onChange","vocabObject","toString","onClick","vilist","targetVocabIncludedList","lessonNameIndex","indexOf","retreiveVocabIncludedByLesson","title","copiedText","navigator","clipboard","writeText","checked","for","style","textAlign","display","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ece079ea.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React, {useState, useEffect} from 'react'\r\n\r\nconst IS_DATABASE_ASCII = true\r\n\r\nconst TABLE = {\r\n    VOCABULARY: {\r\n        NAME: 'vocabulary',\r\n        ID: 'brrcdgyix',\r\n        FIELDS: {\r\n            // id: 3,\r\n            wordIdiom: 6,\r\n            use: 7,\r\n            partOfSpeech: 8,\r\n            frequencyRank: 14,\r\n            vocabName: 17\r\n        }\r\n    },\r\n    EXAMPLES: {\r\n        NAME: 'examples',\r\n        ID: 'brrcdgyjw',\r\n        FIELDS: {\r\n            // id: 3,\r\n            spanishExample: 6,\r\n            englishTranslation: 7,\r\n            vocabIncluded: 15,\r\n            spanglish: 13\r\n        }\r\n    },\r\n    LESSONS: {\r\n        NAME: 'lessons',\r\n        ID: 'brrtcungb',\r\n        FIELDS: {\r\n            lesson: 6,\r\n            vocabIncluded: 11\r\n        }\r\n    },\r\n    VOCABULARY_EXAMPLES: 'brrcdgykk'\r\n}\r\n\r\nconst LESSON_ORDER = ['SI1M Lesson 1', 'SI1M Lesson 2', 'SI1M Lesson 3', 'SI1M Lesson 4', 'SI1M Lesson 5', 'SI1M Lesson 6', 'SI1M Lesson 7', 'SI1M Lesson 8', 'SI1M Lesson 9', 'SI1M Lesson 10', 'SI1M Lesson 11', 'SI1M Lesson 12', 'SI1M Lesson 13', 'SI1M Lesson 14', 'SI1M Lesson 15', 'SI1M Lesson 16', 'SI1M Lesson 17', 'SI1M Lesson 18', 'SI1M Lesson 19', 'SI1M Lesson 20' ]\r\n\r\nexport default function SentenceRetriever() {\r\n    //const queryParams = new URLSearchParams(window.location.search)\r\n    //const ut = queryParams.get('ut')\r\n    //console.log('ut: ', ut)\r\n\r\n    const [userToken, setUserToken] = useState('')\r\n    //setUserToken(ut)\r\n\r\n    const [vocabTable, setVocabTable] = useState([])\r\n    const [examplesTable, setExamplesTable] = useState([])\r\n    const [lessonsTable, setLessonsTable] = useState([])\r\n\r\n    const [allSuggestedVocabList, setAllSuggestedVocabList] = useState([]) // total suggested vocab list\r\n    const [searchTerm, setSearchTerm] = useState('') // for string in search bar that changes the vocab list on every change\r\n\r\n    const [targetVocabList, setTargetVocabList] = useState([]) // list of all the strings that will be queries from the examples table (the custom vocab search list)\r\n    const [vocabIncludedSearchList, setVocabIncludedSearchList] = useState([]) // this will be the one that actually gets searched\r\n\r\n    const [selectedLesson, setSelectedLesson] = useState('SI1M Lesson 1')\r\n\r\n    const [noSpanglish, setNoSpanglish] = useState(false)\r\n    const [noOtherVocab, setNoOtherVocab] = useState(false)\r\n    const [shuffledSentences, setShuffledSentences] = useState(false)\r\n\r\n    const [exampleList, setExampleList] = useState([]) // example list to be displayed in the table at bottom\r\n    const [whereClause, setWhereClause] = useState('')\r\n\r\n    // for search by lesson\r\n    // this retrieves the selected lesson's vocabIncluded along with all previous lessons' vocabIncluded\r\n    // for example lesson 2 contains all of lesson 2 & lesson 1's vocab\r\n    function retreiveVocabIncludedByLesson(lessonName) {\r\n        let targetVocabIncludedList = []\r\n        if(LESSON_ORDER.includes(lessonName)) {\r\n            //console.log('retreive ' + lessonName)\r\n            const lessonNameIndex = LESSON_ORDER.indexOf(lessonName)\r\n            //console.log(lessonNameIndex)\r\n            LESSON_ORDER.map((element, id) => {\r\n                if(id <= lessonNameIndex) {\r\n                    //console.log('less than')\r\n                    lessonsTable.map(lesson => {\r\n                        //console.log(lesson.lesson + ' ' + element)\r\n                        if(lesson.lesson === element) {\r\n                            //console.log('equals')\r\n                            targetVocabIncludedList = [...targetVocabIncludedList, ...lesson.vocabIncluded]\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n        }\r\n\r\n        //targetVocabIncludedList = ['en - \\\"on\\\"', 'ser - ser infinitive']\r\n        const newArr = targetVocabIncludedList.map((element, id) => {return ( { id: id, name: element })})\r\n        return newArr\r\n    }\r\n\r\n    // new function\r\n    function createLocalTable(tableName, jsonData) {\r\n        let newArr\r\n        switch(tableName) {\r\n            \r\n            case TABLE.VOCABULARY.NAME:\r\n                newArr = jsonData.data.map(row => {\r\n                    return {\r\n                        name: row[TABLE.VOCABULARY.FIELDS.vocabName].value,\r\n                        partOfSpeech: row[TABLE.VOCABULARY.FIELDS.partOfSpeech].value,\r\n                        frequencyRank: row[TABLE.VOCABULARY.FIELDS.frequencyRank].value\r\n                    }\r\n                })       \r\n                setVocabTable(newArr)\r\n                return\r\n            case TABLE.EXAMPLES.NAME:\r\n                newArr = jsonData.data.map(row => {\r\n                    return {\r\n                        spanish: row[TABLE.EXAMPLES.FIELDS.spanishExample].value,\r\n                        english: row[TABLE.EXAMPLES.FIELDS.englishTranslation].value,\r\n                        vocabIncluded: row[TABLE.EXAMPLES.FIELDS.vocabIncluded].value,\r\n                        spanglish: row[TABLE.EXAMPLES.FIELDS.spanglish].value\r\n                    }\r\n                })\r\n                setExamplesTable(newArr)\r\n                return\r\n                //setExampleList(examplesTable)\r\n            case TABLE.LESSONS.NAME:\r\n                newArr = jsonData.data.map(row => {\r\n                    return {\r\n                        lesson: row[TABLE.LESSONS.FIELDS.lesson].value,\r\n                        vocabIncluded: row[TABLE.LESSONS.FIELDS.vocabIncluded].value\r\n                    }\r\n                })\r\n                /*.sort((a, b) => {\r\n                    if(a.lesson < b.lesson) {return -1}\r\n                    if(a.lesson > b.lesson) {return 1}\r\n                })\r\n                */\r\n                //console.log('lesson arr')\r\n                //console.log(newArr)\r\n                setLessonsTable(newArr)\r\n            default:\r\n                //\r\n        }\r\n    }\r\n\r\n    function createHeaders() {\r\n        const headers = {\r\n            'QB-Realm-Hostname': 'masterofmemory.quickbase.com',\r\n            'User-Agent': 'NickApp',\r\n            'Authorization': userToken,\r\n            'Content-Type': 'application/json'\r\n        }\r\n        return headers\r\n    }\r\n\r\n    //combined version of vocab & exmpales\r\n    function createBody2(tableName) {\r\n        let body\r\n        switch(tableName) {\r\n            case TABLE.VOCABULARY.NAME:\r\n                body = {\r\n                    \"from\": TABLE.VOCABULARY.ID,\r\n                    \"select\": [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25],\r\n                }\r\n                return body\r\n            case TABLE.EXAMPLES.NAME:\r\n                body = {\r\n                    \"from\": TABLE.EXAMPLES.ID,\r\n                    \"select\": [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25],\r\n                    //\"where\": whereClause\r\n                }\r\n                return body\r\n            case TABLE.LESSONS.NAME:\r\n                body = {\r\n                    \"from\": TABLE.LESSONS.ID,\r\n                    \"select\": [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25],\r\n                }\r\n                return body\r\n            default:\r\n                //\r\n        }\r\n    }\r\n\r\n    // for displaying the suggested VOCAB\r\n    function getFilteredResults() { // for vocab\r\n        //return allSuggestedVocabList.filter(vocabObject => vocabObject.name.toString().toLowerCase().includes(searchTerm.toLowerCase()))\r\n        return vocabTable.filter(vocabObject => vocabObject.name.toString().toLowerCase().includes(searchTerm.toLowerCase()))\r\n    }\r\n\r\n    // for setting the examples list on bottom\r\n    // it filters by lesson, custom vocab, & Spanglish\r\n    function getFilteredExamples2() {\r\n        let newFilteredExampleList = []\r\n        // filter by lesson\r\n        newFilteredExampleList = noOtherVocab ? examplesTable.filter(example => {\r\n            if(example.vocabIncluded.length == 0) {\r\n                return false\r\n            }\r\n            for(const vocab of example.vocabIncluded) {\r\n                if(!vocabIncludedSearchList.map(element => element.name).includes(vocab)) {\r\n                    return false\r\n                }\r\n            }\r\n            return true\r\n        }) : examplesTable\r\n\r\n        // filter by custom search list\r\n        newFilteredExampleList = targetVocabList.length != 0 ? newFilteredExampleList.filter(exampleObject => {\r\n            for(const vocab of targetVocabList) {\r\n                // checks if tagged words contatin search word\r\n                for(const element of exampleObject.vocabIncluded) {\r\n                    if(element.toLowerCase().includes(vocab.name.toLowerCase())) {\r\n                        return true\r\n                    }\r\n                }\r\n            }\r\n            return false\r\n        }) : newFilteredExampleList\r\n        // filter by Spanglish\r\n        newFilteredExampleList = noSpanglish ? newFilteredExampleList.filter(exampleObject => exampleObject.spanglish === 'esp') : newFilteredExampleList\r\n\r\n        // shuffle?\r\n        newFilteredExampleList = shuffledSentences ? shuffleExampleList2(newFilteredExampleList) : newFilteredExampleList\r\n\r\n        setExampleList(newFilteredExampleList)\r\n    }\r\n\r\n\r\n\r\n    function addToTargetVocabList(e, term) {\r\n        e.preventDefault()\r\n        setTargetVocabList([...targetVocabList, { id: Date.now(), name: term}])\r\n        //\r\n        //console.log(\"filtered-----------------\")\r\n        //getFilteredExamples()\r\n    }\r\n    function removeFromTargetVocabList(id) {\r\n        setTargetVocabList(targetVocabList.filter(term => term.id !== id))\r\n    }\r\n\r\n    // the newest & current version\r\n    function fetchTableFromQuickbase(tableName) {\r\n        fetch('https://api.quickbase.com/v1/records/query',\r\n            {\r\n            method: 'POST',\r\n            headers: createHeaders(),\r\n            body: JSON.stringify(createBody2(tableName))\r\n            })\r\n        .then(res => {\r\n            if (res.ok) {\r\n                if(IS_DATABASE_ASCII) {\r\n                    return res.arrayBuffer().then(buffer => {\r\n                        const decoder = new TextDecoder('ASCII')\r\n                        const text = decoder.decode(buffer)\r\n                        //console.log(tableName)\r\n                        //console.log('text decoder')\r\n                        //console.log(text)\r\n            \r\n                        const json = JSON.parse(text)\r\n            \r\n                        //console.log('json')\r\n                        //console.log(json)\r\n\r\n                        createLocalTable(tableName, json)\r\n            \r\n                    })\r\n                }\r\n            return res.json().then(res => createLocalTable(tableName, res));\r\n            }\r\n            return res.json().then(resBody => Promise.reject({status: res.status, ...resBody}));\r\n        })\r\n        \r\n        .catch(err => console.log(err))\r\n\r\n    }\r\n\r\n\r\n    // not curretnly in use\r\n    function shuffleExampleList() {        \r\n        const shuffledList = [...exampleList]\r\n\r\n        for(let i = shuffledList.length; i > 0; i--) {\r\n            const newIndex = Math.floor(Math.random() * (i - 1))\r\n            const oldValue = shuffledList[newIndex]\r\n            shuffledList[newIndex] = shuffledList[i - 1]\r\n            shuffledList[i - 1] = oldValue\r\n        }\r\n\r\n        setExampleList(shuffledList)\r\n    }\r\n\r\n    function shuffleExampleList2(list) {        \r\n        const shuffledList = [...list]\r\n\r\n        for(let i = shuffledList.length; i > 0; i--) {\r\n            const newIndex = Math.floor(Math.random() * (i - 1))\r\n            const oldValue = shuffledList[newIndex]\r\n            shuffledList[newIndex] = shuffledList[i - 1]\r\n            shuffledList[i - 1] = oldValue\r\n        }\r\n\r\n        return shuffledList\r\n    }\r\n\r\n    function copySentences() {\r\n        const englishSentences = exampleList.map(example => {\r\n            return example.english\r\n        }).join('\\n')\r\n        const spanishSentences = exampleList.map(example => {\r\n            return example.spanish\r\n        }).join('\\n')\r\n        //\r\n        const copiedText = englishSentences + '\\n\\n' + spanishSentences\r\n\r\n        //console.log(englishSentences)\r\n        navigator.clipboard.writeText(copiedText)\r\n    }\r\n\r\n    function copyTable() {\r\n        const headers = 'Spanish\\tEnglish\\n'\r\n        const table = exampleList.map(example => {\r\n            return example.spanish + '\\t' + example.english\r\n        }).join('\\n')\r\n\r\n        const copiedText = headers + table\r\n        navigator.clipboard.writeText(copiedText)\r\n    }\r\n\r\n    function handleOnChangeNoSpanglish(e) {\r\n        e.preventDefault()\r\n\r\n    }\r\n\r\n    function createLessonTitle(lessonName) {\r\n        const lesson = lessonsTable.find(element => element.lesson === lessonName)\r\n        const title = lesson ? lesson.vocabIncluded.join('\\n') : ''\r\n        return title\r\n    }\r\n/*\r\n    useEffect(() => {\r\n        fetchTableFromQuickbase(TABLE.VOCABULARY.NAME)\r\n        fetchTableFromQuickbase(TABLE.EXAMPLES.NAME)\r\n        //console.log('fetching from lessons')\r\n        \r\n        setExampleList(examplesTable)\r\n\r\n        fetchTableFromQuickbase(TABLE.LESSONS.NAME)\r\n        console.log(lessonsTable)\r\n    }, [])\r\n*/\r\n    useEffect(() => {\r\n        getFilteredExamples2()\r\n    }, [noSpanglish, noOtherVocab, shuffledSentences, vocabIncludedSearchList])\r\n\r\n    useEffect(() => {\r\n        //console.log('user token is now: ' + userToken)\r\n\r\n        fetchTableFromQuickbase(TABLE.VOCABULARY.NAME)\r\n        fetchTableFromQuickbase(TABLE.EXAMPLES.NAME)\r\n        //console.log('fetching from lessons')\r\n        \r\n        setExampleList(examplesTable)\r\n\r\n        fetchTableFromQuickbase(TABLE.LESSONS.NAME)\r\n        //console.log(lessonsTable)\r\n\r\n    }, [userToken])\r\n\r\n    useEffect(() => {\r\n        \r\n        const queryParams = new URLSearchParams(window.location.search)\r\n        const ut = queryParams.get('ut')\r\n        //console.log('ut: ', ut)\r\n\r\n        \r\n        setUserToken(ut)\r\n        \r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            <form hidden onSubmit={(e) => {\r\n                e.preventDefault()\r\n                setUserToken(e.target[0].value)\r\n                }} >\r\n                <input type='text'></input>\r\n            </form>\r\n            <h1>Sentence Lookup</h1>\r\n            <table>\r\n                <tr>\r\n                    <td className='suggestions'>\r\n                        <form onSubmit={(e) => {\r\n                            addToTargetVocabList(e, searchTerm)\r\n                            setSearchTerm('')\r\n                        }}>\r\n                            <input className='suggestions-searchbar' type=\"text\" value={searchTerm} onChange={e => setSearchTerm(e.target.value)}></input>\r\n                            <button>Add to search query &gt;&gt;</button>\r\n                        </form>\r\n                        <ul className='suggestions-content'>\r\n                            {getFilteredResults().map(vocab => {\r\n                                return (<li key={vocab.id} onClick={(e) => addToTargetVocabList(e, vocab.name)}>{vocab.name}</li>)\r\n                            })}\r\n                        </ul>\r\n                    </td>\r\n                    <td className='chosen-vocab'>\r\n                        {/** <button onClick={getFilteredExamples}>Retrieve Sentences</button> \r\n                        <button onClick={() => {\r\n                            //setVocabIncludedSearchList(targetVocabList)\r\n                            setVocabIncludedSearchList([])\r\n                            setNoOtherVocab(false)\r\n                        }}>Retrieve Sentences</button>\r\n                        <br />\r\n                        */}\r\n                        \r\n                        \r\n\r\n                        \r\n                        <form onSubmit={(e) => {\r\n                            \r\n                            e.preventDefault()\r\n                            if(e.target[0].value === '') { // No lesson filter\r\n                                //\r\n                                setNoOtherVocab(false)\r\n                                setVocabIncludedSearchList([])\r\n                            \r\n                            } else { // There is a lesson filter\r\n                                //\r\n                                setNoOtherVocab(true)\r\n                                const vilist = retreiveVocabIncludedByLesson(e.target[0].value)\r\n                                setVocabIncludedSearchList(vilist)\r\n                            }\r\n                            //console.log(e.target[0].value)\r\n                            //const vilist = retreiveVocabIncludedByLesson(e.target[0].value)\r\n                            //setVocabIncludedSearchList(vilist)\r\n                            /*\r\n                            retrieveExamplesByLesson(vilist)\r\n                            const lessonObj = lessonsTable.find(element => element.lesson === e.target[0].value)\r\n                            console.log(lessonObj.vocabIncluded)\r\n                            const newArr = lessonObj.vocabIncluded.map((element, id) => {return ( { id: id, name: element })})\r\n                            setVocabIncludedSearchList(newArr)\r\n                            */\r\n                            \r\n                        }}>\r\n                            \r\n                            <select name='lessonSelect' onChange={(e) => setSelectedLesson(e.target.value)}>\r\n                                {/* lessonsTable.map(lesson => {\r\n                                    return(<option value={lesson.lesson}>{lesson.lesson}</option>)\r\n                                }) */}\r\n                                <option value=''>No lesson filter</option>\r\n                                {LESSON_ORDER.map(lesson => { return(<option value={lesson} title={createLessonTitle(lesson)}>{lesson}</option>) })}\r\n                            </select>\r\n                            \r\n                            <input type='submit' value='Retrieve Sentences'></input>\r\n                        </form>\r\n                        {/*lessonsTable.map(lesson => {\r\n                            if(lesson.lesson === selectedLesson) {\r\n                                return(<ul className='lesson-vocab'>{lesson.vocabIncluded.map(vocab => {return(<li>{vocab}</li>)})}</ul>)\r\n                            }\r\n                        })*/}\r\n\r\n                        <div>\r\n                            {targetVocabList.map(term => {\r\n                                return (<button className='chosen-vocab-term' key={term.id} onClick={()=>removeFromTargetVocabList(term.id)}>[{term.name}] </button>)\r\n                            })}\r\n                        </div>\r\n                    </td>\r\n                    \r\n                </tr>\r\n            </table>\r\n\r\n\r\n            \r\n            {/*<button onClick={shuffleExampleList}>Shuffle Sentences</button>*/}\r\n            <button onClick={copySentences}>Copy as List</button>\r\n            <button onClick={copyTable}>Copy as Table</button>\r\n            \r\n            <input type='checkbox' onChange={(e) => {\r\n                setNoSpanglish(e.target.checked)\r\n                //getFilteredExamples()\r\n            } } name='spanglishCheckbox' ></input><label for='spanglishCheckbox'>No Spanglish? </label>\r\n\r\n            <input type='checkbox' onChange={(e) => {\r\n                setShuffledSentences(e.target.checked)\r\n                //getFilteredExamples()\r\n            } } name='shuffledCheckbox' ></input><label for='shuffledCheckbox'>Shuffle Sentences?</label>\r\n            \r\n            <label style={{textAlign: 'right', display: 'block'}}>Number of results: {exampleList.length}  </label>\r\n\r\n            <table className='sentence-table'>\r\n                <tr>\r\n                    <th>Spanish</th>\r\n                    <th>English</th>\r\n                    <th>Vocab/Idioms</th>\r\n                </tr>\r\n                {exampleList.map(exampleObject => {\r\n                    return (<tr key={exampleObject.id}>\r\n                        <td>{exampleObject.id} {exampleObject.spanish}</td>\r\n                        <td>{exampleObject.english}</td>\r\n                        <td>{exampleObject.vocabIncluded.map(vocab => {\r\n                            return(<button className='vocab-included-button' >{vocab}</button>)\r\n                        })}</td>\r\n                    </tr>)\r\n                })}\r\n            </table>\r\n\r\n        </div>\r\n    )\r\n}\r\n","import logo from './logo.svg';\nimport './QuizApp.css';\nimport SentenceRetriever from './SentenceRetriever'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <SentenceRetriever />\n      \n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}